<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../JS/login.js"></script>
    <script src="../JS/app.js"></script>
    <link rel="stylesheet" href="../CSS/resultado.css">
    <title>Couple Pets</title>
</head>

<body onload="mostrarContatos(), Carregar()">
    <header>
        <main>
            <nav class="navbar navbar-expand-lg navbar-light" style="background-color: rgb(127, 212, 248);">
                <div class="container-fluid">
                    <a class="logo" href="Perfil.html"><img src="../img/logo.png" alt="logo"
                            style="max-width: 285px; max-height: 103px"></a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                            <li class="nav-item sobre">
                                <a class="nav-link active" aria-current="page" href="#">Perfil</a>
                            </li>
                            <li class="nav-item sobre">
                                <a class="nav-link" href="Cadastro de Pet.html">Meu Pet</a>
                            </li>
                            <li class="nav-item sobre">
                                <a class="nav-link" href="Contatos.html">Contato</a>
                            </li>
                            <li class="nav-item sobre">
                                <a class="nav-link" href="Sobre.html">Sobre</a>
                            </li>
                            <li class="nav-item ">
                                <p id="" class="nav-link" name="nomeUser" style="font-weight: bolder;"></p>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="../../index.html">Sair</a>
                            </li>
                        </ul>
                        <form class="d-flex" role="search">
                            <button class="btn btn-outline-success" type="submit">Encontre um pet</button>
                        </form>
                    </div>
                </div>
            </nav>
        </main>
    </header>
    <aside>
        <section class="wrapper grid grid-template row-gap">
            <div class="box-lateral nav-lateral">
                <ul>
                    <a href="Perfil.html"><button class="botao botao-desativado">Perfil</button></a><br>
                    <a href="Cadastro de Pet.html"><button class="botao botao-desativado">Meu
                            Pet</button></a><br>
                    <a href="Contatos.html"><button class="botao botao-desativado">Contatos</button></a><br>
                    <a href="Sobre.html"><button class="botao botao-desativado">Sobre</button></a><br>
                </ul>
            </div>
            <section class="content">
                <div class="">
                    <div>
                        <nav class="perfil">
                            <h2>Encontre um Pet</h2>
                        </nav>
                    </div>
                </div>
                <form id="form-contato">
                    <div class="form-group row">
                        <div class="col-sm-4">
                            <select name="filtro_cidade" id="filtro_cidade" onchange="ListaContatos()"
                                class="form-control">
                                <option value="">Selecione a Cidade</option>
                                <option value="Betim">Betim</option>
                                <option value="Belo Horizonte">Belo Horizonte</option>
                                <option value="Rio de Janeiro">Rio de Janeiro</option>
                                <option value="São Paulo">São Paulo</option>
                                <option value="Goiânia">Goiânia</option>
                            </select>
                        </div>
                        <div class="col-sm-8">
                            <select name="filtro_raça" id="filtro_raça" onchange="ListaContatos()" class="form-control">
                                <option value="">Selecione a Raça</option>
                                <option value="Afghan Hound">Afghan Hound</option>
                                <option value="Airedale Terrier">Airedale Terrier</option>
                                <option value="Akita Inu">Akita Inu</option>
                                <option value="American Pitbull">American Pitbull</option>
                                <option value="Bassethound">Bassethound</option>
                                <option value="Beagle">Beagle</option>
                                <option value="Bichon Frisé">Bichon Frisé</option>
                                <option value="Boxer">Boxer</option>
                                <option value="Bull Terrier">Bull Terrier</option>
                                <option value="Bulldog">Bulldog</option>
                                <option value="Bullmastiff">Bullmastiff</option>
                                <option value="Chihuahua">Chihuahua</option>
                                <option value="Chow Chow">Chow Chow</option>
                                <option value="Cocker">Cocker</option>
                                <option value="Collie">Collie</option>
                                <option value="Dálmata">Dálmata</option>
                                <option value="Dobermann">Dobermann</option>
                                <option value="Dogue Alemão">Dogue Alemão</option>
                                <option value="Fila">Fila</option>
                                <option value="Fox Terrier Duro">Fox Terrier Duro</option>
                                <option value="Fox Terrier Liso">Fox Terrier Liso</option>
                                <option value="Foxhound">Foxhound</option>
                                <option value="Golden Retriever">Golden Retriever</option>
                                <option value="Husky">Husky</option>
                                <option value="Labrador">Labrador</option>
                                <option value="Lhasa Apso">Lhasa Apso</option>
                                <option value="Maltês">Maltês</option>
                                <option value="Mastiff">Mastiff</option>
                                <option value="O.E.Sheepdog">O.E.Sheepdog</option>
                                <option value="Pastor Alemão">Pastor Alemão</option>
                                <option value="Pequinês">Pequinês</option>
                                <option value="Pinscher">Pinscher</option>
                                <option value="Pointer Inglês">Pointer Inglês</option>
                                <option value="Poodle">Poodle</option>
                                <option value="Rottweiler">Rottweiler</option>
                                <option value="São Bernardo">São Bernardo</option>
                                <option value="Schnauzer">Schnauzer</option>
                                <option value="Setter">Setter</option>
                                <option value="Shar Pei">Shar Pei</option>
                                <option value="Shih Tzu">Shih Tzu</option>
                                <option value="Spitz Alemão">Spitz Alemão</option>
                                <option value="Staff Bull Terrier">Staff Bull Terrier</option>
                                <option value="Teckel">Teckel</option>
                                <option value="Terrier Brasileiro">Terrier Brasileiro</option>
                                <option value="Vira-Lata">Vira-Lata</option>
                                <option value="West Highland White Terrier">West Highland White Terrier</option>
                                <option value="Yorkshire Terrier">Yorkshire Terrier</option>
                                <option value="Outra">Outra</option>
                            </select>
                        </div>
                    </div>
                </form>
                <div class="row">
                    <div class="col-sm-12">
                        <table id="grid-contatos" class="table table-striped">
                            <thead>
                                <tr>
                                    <th scope="col">Nome</th>
                                    <th scope="col">E-mail</th>
                                    <th scope="col">Nome do Pet</th>
                                    <th scope="col">Cidade</th>
                                    <th scope="col">Raça</th>
                                    <th scope="col">Telefone</th>
                                </tr>
                            </thead>
                            <tbody id="table-contatos">
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                </div>
            </section>
        </section>
    </aside>
    <div class="item footer">
        <footer class="bg-light text-center  text-lg-start">
            <!-- Copyright -->
            <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
                © 2022 Copyright:
                <a class="text-dark" href="https://pucminas.br">PUC Minas</a>
            </div>
            <!-- Copyright -->
        </footer>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="../JS/app.js"></script>
    <script>
        function mostrarContatos() {
            // Remove todas as linhas do corpo da tabela
            $("#table-contatos").html("");

            // Popula a tabela com os registros do banco de dados
            for (i = 0; i < db.data.length; i++) {
                let contato = db.data[i];
                $("#table-contatos").append(`<tr>
                    <td>${contato.nome}</td>
                    <td>${contato.email}</td>
                    <td>${contato.nomeDoPet}</td>
                    <td>${contato.cidade}</td>
                    <td>${contato.raça}</td>
                    <td>${contato.telefone}</td>
                    </tr>`);
            }
        }

        // função para listar na tabela os contatos que estão associados aos filtros 
        function ListaContatos() {

            // Obtem os dados informados pelo usuário nos filtros
            let fc = document.getElementById('filtro_cidade').value;
            let fcg = document.getElementById('filtro_raça').value;

            // limpa a lista de contatos apresentados
            $("#table-contatos").empty();

            // Popula a tabela com os registros do banco de dados
            for (let index = 0; index < db.data.length; index++) {
                const contato = db.data[index];

                // Verifica se os dados do contato batem com os filtros
                if (((contato.cidade == fc) || (fc == '')) &&
                    ((contato.raça == fcg) || (fcg == ''))) {

                    // Inclui o contato na tabela    
                    $("#table-contatos").append(`<tr>
                    <td>${contato.nome}</td>
                    <td>${contato.email}</td>
                    <td>${contato.nomeDoPet}</td>
                    <td>${contato.cidade}</td>
                    <td>${contato.raça}</td>
                    <td>${contato.telefone}</td>
                    </tr>`);
                }
            }

        }
        
        function LinkTel() {
            for (i = 0; i < db.data.length; i++) {
                let contato = db.data[i];
                $("#table-contatos").append(`<tr>
                    <td>${contato.nome}</td>
                    <td>${contato.email}</td>
                    <td>${contato.nomeDoPet}</td>
                    <td>${contato.cidade}</td>
                    <td>${contato.raça}</td>
                    <td>${contato.telefone}</td>
                    </tr>`);
            }
        }
    </script>
</body>

</html>